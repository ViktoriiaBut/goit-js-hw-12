{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nconst apiKey = '46313967-d4d30fae59777882921d7e8bb'; // мой ключ\n\nexport function getPictures(query) {\n    const searchParams = new URLSearchParams({\n        key: apiKey,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        per_page: 9    \n    });\n\n       const url = `https://pixabay.com/api/?${searchParams}`;\n            \n        fetch(url)\n        .then(response => {\n          if (!response.ok) {\n            throw new Error(response.status);\n          }\n          return response.json();\n        });\n    }\n\nexport default getPictures;\n","\n export function renderPictures(pics) {\n  const markup = pics\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n              return `\n<li class=\"gallery-item\">\n                <a href=\"${largeImageURL}\" class=\"gallery-link\">\n                    <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-image\" />\n                </a>\n                <div class=\"info\">\n                    <p class=\"info-item\"><span>Likes:</span> ${likes}</p>\n                    <p class=\"info-item\"><span>Views:</span> ${views}</p>\n                    <p class=\"info-item\"><span>Comments:</span> ${comments}</p>\n                    <p class=\"info-item\"><span>Downloads:</span> ${downloads}</p>\n                </div>\n            </li>\n        `\n      }\n    )\n    .join('');\n\n  gallery.innerHTML = markup;\n  lightbox.refresh();\n}\n\n// export const showLoader = () => {\n//   const loader = document.querySelector('.loader');\n//   if (loader) {\n//     loader.style.display = 'block';\n//   }\n// };\n\nexport default renderPictures;","import getPictures from './js/pixabay-api.js';\nimport renderPictures from './js/render-functions.js';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n\nconst loader = document.querySelector('.loader');\nconst searchForm = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\nconst lightbox = new SimpleLightbox('.gallery a', {\n});\n\nsearchForm.addEventListener ('submit', event => {\n    event.preventDefault();\n    gallery.innerHTML = '';  // Очистка галереи перед новым поиском\n  \nconst searchValue = event.target.elements.query.value;\nif (!searchValue) {\n  iziToast.error({\n    title: 'Error',\n    message: 'Please enter a search query!',\n  });\n  return;\n}\n loader.style.display = 'block';\n\n try {\n  const data = getPictures(searchValue);\n  if (data.hits.length === 0) {\n    iziToast.warning({\n      title: 'No results',\n      message: 'Sorry, there are no images matching your search query.',\n    });\n  } else {\n    renderPictures(data.hits);\n  }\n\n    } catch (error) {\n      iziToast.error({\n        title: 'Error',\n        message: 'Failed to fetch images. Please try again later.',\n      });\n    } finally {\n      loader.style.display = 'none'; \n      refreshSearchForm(); \n    }\n  });\n  \n  function refreshSearchForm() {\n    searchForm.reset(); \n  }\n\n\n\n"],"names":["apiKey","getPictures","query","url","response","renderPictures","pics","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","loader","searchForm","gallery","SimpleLightbox","event","searchValue","iziToast","data","refreshSearchForm"],"mappings":"6vBACA,MAAMA,EAAS,qCAER,SAASC,EAAYC,EAAO,CAU5B,MAAMC,EAAM,4BATM,IAAI,gBAAgB,CACrC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,CAClB,CAAK,CAEsD,GAEnD,MAAMC,CAAG,EACR,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MAC1B,CAAS,CACT,CCrBQ,SAASC,EAAeC,EAAM,CACpC,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACqB;AAAA;AAAA,2BAEML,CAAa;AAAA,gCACRD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,+DAGKC,CAAK;AAAA,+DACLC,CAAK;AAAA,kEACFC,CAAQ;AAAA,mEACPC,CAAS;AAAA;AAAA;AAAA,SAKvE,EACA,KAAK,EAAE,EAEV,QAAQ,UAAYP,EACpB,SAAS,QAAO,CAClB,CCtBA,MAAMQ,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAU,SAAS,cAAc,UAAU,EAChC,IAAIC,EAAe,aAAc,CAClD,CAAC,EAEDF,EAAW,iBAAkB,SAAUG,GAAS,CAC5CA,EAAM,eAAc,EACpBF,EAAQ,UAAY,GAExB,MAAMG,EAAcD,EAAM,OAAO,SAAS,MAAM,MAChD,GAAI,CAACC,EAAa,CAChBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACb,CAAG,EACD,MACF,CACCN,EAAO,MAAM,QAAU,QAEvB,GAAI,CACH,MAAMO,EAAOrB,EAAYmB,CAAW,EAChCE,EAAK,KAAK,SAAW,EACvBD,EAAS,QAAQ,CACf,MAAO,aACP,QAAS,wDACf,CAAK,EAEDhB,EAAeiB,EAAK,IAAI,CAGvB,MAAe,CACdD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,iDACjB,CAAO,CACP,QAAc,CACRN,EAAO,MAAM,QAAU,OACvBQ,GACD,CACL,CAAG,EAED,SAASA,GAAoB,CAC3BP,EAAW,MAAK,CACpB"}