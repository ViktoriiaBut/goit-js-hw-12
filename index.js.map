{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nconst apiKey = '46313967-d4d30fae59777882921d7e8bb'; // мой ключ\n\nexport function getPictures(query) {\n    const searchParams = new URLSearchParams({\n        key: apiKey,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        per_page: 9    \n    });\n\n       const url = `https://pixabay.com/api/?${searchParams}`;\n            \n       return fetch(url)\n        .then(response => {\n          if (!response.ok) {\n            throw new Error(response.status);\n          }\n          return response.json();\n        });\n    }\n\nexport default getPictures;\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst lightbox = new SimpleLightbox('.gallery a');\nconst gallery = document.querySelector('.gallery');\n\n export function renderPictures(pics) {\n  console.log(pics);\n  console.log(gallery);\n  \n  const markup = pics\n    .map(\n       ({ webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => { return `\n<li class=\"gallery-item\">\n                <a href=\"${largeImageURL}\" class=\"gallery-link\">\n                    <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-image\" /></a>\n                  <div class=\"info\">\n                    <p class=\"info-item\"><span>Likes:</span> ${likes}</p>\n                    <p class=\"info-item\"><span>Views:</span> ${views}</p>\n                    <p class=\"info-item\"><span>Comments:</span> ${comments}</p>\n                    <p class=\"info-item\"><span>Downloads:</span> ${downloads}</p>\n                </div>\n            </li>`\n          })\n       .join('');\n  gallery.innerHTML = markup;\n  console.log(gallery.innerHTML);\n  \n  lightbox.refresh();\n}\nexport default renderPictures;\n\n","import getPictures from './js/pixabay-api.js';\nimport renderPictures from './js/render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst loader = document.querySelector('.loader');\nconst searchForm = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\n\nfunction showLoader() {\n  loader.style.display = 'flex';\n}\n\nfunction hideLoader() {\n  loader.style.display = 'none';\n}\n\n\nsearchForm.addEventListener ('submit', event => {\n    event.preventDefault();\n    const searchValue = event.target.elements.query.value;\n    \n   if (!searchValue) {\n  iziToast.error({\n    title: 'Error',\n    message: 'Please enter a search query!',\n  }); \n     return;\n  }\n\n  showLoader();\n  gallery.innerHTML = ''; // Очистка галереи перед новым поиском\n   \n  getPictures(searchValue)\n  .then(data => {\n   console.log(data);\n   \n  if (data.hits.length === 0) {\n    iziToast.warning({\n      title: 'No results',\n      message: 'Sorry, there are no images matching your search query.'\n    });\n         } else {\n    renderPictures(data.hits); \n    \n  }\n})\n    .catch (error => {\n      iziToast.error({\n        title: 'Error',\n        message: 'Failed to fetch images. Please try again later.',\n              });       \n    }) \n  \n    .finally(() => {\n      hideLoader();  \n      refreshSearchForm(); \n    })\n     \n    function refreshSearchForm() {\n    searchForm.reset(); \n  };\n});\n\n\n\n"],"names":["apiKey","getPictures","query","url","response","lightbox","SimpleLightbox","gallery","renderPictures","pics","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","loader","searchForm","showLoader","hideLoader","event","searchValue","iziToast","data","error","refreshSearchForm"],"mappings":"wvBACA,MAAMA,EAAS,qCAER,SAASC,EAAYC,EAAO,CAU5B,MAAMC,EAAM,4BATM,IAAI,gBAAgB,CACrC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,CAClB,CAAK,CAEsD,GAEpD,OAAO,MAAMC,CAAG,EACd,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MAC1B,CAAS,CACT,CCnBA,MAAMC,EAAW,IAAIC,EAAe,YAAY,EAC1CC,EAAU,SAAS,cAAc,UAAU,EAEzC,SAASC,EAAeC,EAAM,CACpC,QAAQ,IAAIA,CAAI,EAChB,QAAQ,IAAIF,CAAO,EAEnB,MAAMG,EAASD,EACZ,IACE,CAAC,CAAE,aAAAE,EACF,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IAAc;AAAA;AAAA,2BAEML,CAAa;AAAA,gCACRD,CAAY,UAAUE,CAAI;AAAA;AAAA,+DAEKC,CAAK;AAAA,+DACLC,CAAK;AAAA,kEACFC,CAAQ;AAAA,mEACPC,CAAS;AAAA;AAAA,kBAGjE,EACH,KAAK,EAAE,EACbV,EAAQ,UAAYG,EACpB,QAAQ,IAAIH,EAAQ,SAAS,EAE7BF,EAAS,QAAO,CAClB,CC/BA,MAAMa,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAa,SAAS,cAAc,cAAc,EAClDZ,EAAU,SAAS,cAAc,UAAU,EAEjD,SAASa,GAAa,CACpBF,EAAO,MAAM,QAAU,MACzB,CAEA,SAASG,GAAa,CACpBH,EAAO,MAAM,QAAU,MACzB,CAGAC,EAAW,iBAAkB,SAAUG,GAAS,CAC5CA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,OAAO,SAAS,MAAM,MAEjD,GAAI,CAACC,EAAa,CACnBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACb,CAAG,EACE,MACF,CAEDJ,IACAb,EAAQ,UAAY,GAEpBN,EAAYsB,CAAW,EACtB,KAAKE,GAAQ,CACb,QAAQ,IAAIA,CAAI,EAEbA,EAAK,KAAK,SAAW,EACvBD,EAAS,QAAQ,CACf,MAAO,aACP,QAAS,wDACf,CAAK,EAEDhB,EAAeiB,EAAK,IAAI,CAG5B,CAAC,EACI,MAAOC,GAAS,CACfF,EAAS,MAAM,CACb,MAAO,QACP,QAAS,iDACjB,CAAe,CACf,CAAK,EAEA,QAAQ,IAAM,CACbH,IACAM,GACN,CAAK,EAED,SAASA,GAAoB,CAC7BR,EAAW,MAAK,CACpB,CACA,CAAC"}